---
modules_on_stage:
  1:
    - module.secgroup
    - module.network
    - module.load-balancer
    - module.floating-ip-master-lb
    - module.server1
    - 'module.servers[0]'
    - 'module.servers[1]'
    - 'module.agents[0]'
    - 'module.agents[1]'
    - module.dns
    - data.k8sbootstrap_auth.auth
  2:
    - module.k8s-helm-charts
  3:
    - module.k8s-apps.data.kubernetes_secret.argocd-initial-admin-secret
    - module.k8s-apps.kubernetes_manifest.argocd-vault-plugin-credentials-secret
    - module.k8s-apps.kubernetes_manifest.argocd-ingress
  4:
    - module.k8s-apps.kubernetes_manifest.openstack-cinder-csi-argocd-application
    - module.k8s-apps.kubernetes_manifest.vault-argocd-application

cloud_passwords:
  openstack: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    66363738343331633464646565393935613439643938303765386465646230616131633237656166
    3836303363346564656635623234333761663039303965340a386165666265343662353530636138
    61333661373938393636336263613962356564656636383130313835626238366265646266653034
    3632353634663333340a666534343866613463383439353461383262396564343435336533383838
    37303838656166643062646664646537386233343739656265363530306666383262
  wavestack: !vault |
    $ANSIBLE_VAULT;1.1;AES256
    30646564303031363732333832353037646434346465653561386637346231643866623137613932
    6263383363356161303237303134386461376535323632330a663631613832353230633836323038
    62343861663163333735306534396438616166633338313932643031656330316264313465326661
    3738303331623634310a386462386239383434633063326237613135663836383438616132623134
    35313139636562343437613535653535616561313064653861353031363731396235


cinder_csi_cloud_config:
  openstack: |
    [Global]
    auth-url="https://de-nbg6-1.noris.cloud:5000/v3"
    username="mwittig"
    user-domain-name="noris.de"
    password="{{ cloud_passwords.openstack }}"
    tenant-id=8e3e72a2e75c44eba74be23856b02fa2
    tenant-name=mwittig
    tenant-domain-id=0fd4315f3f784ee2a37cfd9657385fe5
    region=de-nbg6-1
  wavestack: |
    [Global]
    auth-url="https://api.wavestack.de:5000/v3"
    username="nn-mwittig"
    user-domain-name="noris.de"
    password="{{ cloud_passwords.wavestack }}"
    tenant-id=d4a45e2b58204450933dbb25587dfc84
    tenant-name=nn-mwittig
    tenant-domain-id=736f42e6197e4805b707099acfbc28ac
    region=MUC5
